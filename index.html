<!DOCTYPE html>
<html lang="no">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/>
<title>Meeting Timer (√ân side)</title>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="theme-color" content="#f8f7f5">
<link rel="icon" href="./img/favicon.png?v=2">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@600;700;800;900&display=swap" rel="stylesheet">
<style>
:root{
  --bg-top:#f8f7f5; --bg-bot:#f3f2ef; --ink:#2b3432; --muted:#8b827a;
  --card:rgba(255,255,252,.98); --border:rgba(40,30,20,.10);
  --green:#6ecf9e; /* Play */
  --phase-intro:#87b9ff; /* Pause */
  --phase-review:#ffb766; /* Stop */
  --phase-outro:#87b9ff;
  --press:#cfc7bd; --pill:#fffefb; --radius:16px;
  --tl-green-1:#e9f3ec; --tl-green-2:#deefe4;
  --content-max:640px;
}
*{box-sizing:border-box; -webkit-tap-highlight-color:transparent}
html,body{margin:0;color:var(--ink);background:linear-gradient(180deg,var(--bg-top) 0%,var(--bg-bot) 100%);font-family:"Nunito",ui-rounded,-apple-system,BlinkMacSystemFont,"SF Pro Text","SF Pro Display",Segoe UI,Roboto,Helvetica,Arial,sans-serif;letter-spacing:.01em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;height:100%}
body{display:flex;flex-direction:column;min-height:100%}
.container{flex:1 0 auto;max-width:980px;margin:0 auto;padding:16px 16px 28px;min-width:320px}
.footer{flex:0 0 auto;text-align:center;color:var(--muted);font-size:.9rem;padding:10px 0 14px}

.topbar{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:8px 0 18px;min-height:72px}
.brand img{height:160px;width:auto;cursor:pointer;user-select:none;-webkit-user-drag:none;filter:drop-shadow(0 8px 24px rgba(70,50,30,.08));transition:transform .25s,filter .25s}
@media (min-width:768px){ .brand img{height:200px} }

@keyframes spin2s{from{transform:rotate(0)}to{transform:rotate(360deg)}}
@keyframes shake{0%,100%{transform:translateX(0)}20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}
.logo-spin{animation:spin2s 2s linear}
.logo-shake{animation:shake .4s ease-in-out}

.card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);box-shadow:0 12px 40px rgba(70,50,30,.06);padding:14px}
.infoband{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:space-between;max-width:var(--content-max);margin-inline:auto}
.pill{background:var(--pill);border:1px solid var(--border);border-radius:999px;padding:8px 12px;font-weight:600;box-shadow:0 4px 14px rgba(70,50,30,.05);color:#4a5552}
.select{appearance:none;border:1px solid var(--border);border-radius:12px;padding:10px 12px;background:var(--pill);font-weight:900;color:var(--ink);box-shadow:0 4px 14px rgba(70,50,30,.05);min-width:180px}

.h1{font-size:1.38rem;font-weight:900;margin:18px auto 10px;max-width:var(--content-max);text-transform:uppercase}
.message{background:var(--pill);border:2px solid var(--border);border-radius:12px;padding:20px 22px;min-height:2.4em;box-shadow:0 8px 24px rgba(70,50,30,.05);margin:0 auto 20px;max-width:var(--content-max);color:#4a5552;font-size:1.8rem;line-height:1.4}

.timeline-wrap{margin-top:22px; margin-bottom:40px; max-width:var(--content-max); margin-inline:auto; position:relative}
.timeline{position:relative;height:56px;border-radius:14px;overflow:visible;background:linear-gradient(180deg,var(--tl-green-1) 0%,#edf5f0 100%);border:1px solid var(--border);box-shadow:inset 0 1px 0 rgba(255,255,255,.7),0 12px 36px rgba(70,50,30,.05)}
.slot{position:absolute;top:0;height:100%;opacity:.22}
.para-slot>div{pointer-events:none}
.read-pin{position:absolute; left:50%; transform:translateX(-50%); bottom:-24px; width:18px; height:18px; background:url('./img/read-icon.png?v=2') center/contain no-repeat; pointer-events:none; opacity:0.95}
.elapsed{position:absolute;top:0;left:0;height:100%;background:rgba(58,111,82,.22);width:0%;transition:width .25s linear;z-index:2;pointer-events:none}
.cursor{position:absolute;top:-10px;width:2px;height:76px;background:#2f5f49;left:0%;z-index:3;box-shadow:0 0 0 2px rgba(58,111,82,.10)}
.big-clock,.clock{margin-top:16px;font-size:2.75rem;font-weight:900;color:#2f5f49;text-shadow:0 1px 0 rgba(255,255,255,.65);max-width:var(--content-max);margin-inline:auto}
.over{color:#b54a46!important;text-shadow:none}

.controls{display:flex;gap:12px;margin-top:12px;max-width:var(--content-max);margin-inline:auto;justify-content:flex-start}
.round{width:58px;height:58px;border-radius:999px;border:0;cursor:pointer;display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.5rem;box-shadow:0 10px 24px rgba(70,50,30,.08)}
.play{background:var(--green)}
.pause{background:var(--phase-intro)}
.stop{background:var(--phase-review);color:#2b2a29}
.round:disabled{background:#bfb8af;cursor:not-allowed;box-shadow:none}

.preset-row{display:flex;gap:8px;justify-content:center;flex-wrap:wrap;max-width:var(--content-max);margin:0 auto}
.preset{border:1px solid var(--border);background:var(--pill);border-radius:999px;padding:10px 14px;font-weight:900;cursor:pointer;box-shadow:0 8px 20px rgba(70,50,30,.06);color:#2f5f49;font-size:1.05rem}
.preset.active{background:#2f5f49;color:#fff}

.selected-time{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-weight:900;color:#246b4b;font-size:1.2rem;pointer-events:none;}

.milestone-img{max-width:40%;height:auto;margin:12px auto;display:block;opacity:0;transform:translateY(4px);transition:opacity .25s,transform .25s}
.milestone-img.show{opacity:1;transform:translateY(0)}

img{-webkit-user-drag:none;user-select:none;-webkit-touch-callout:none}

#timerSection{scroll-margin-top:20px;margin-top:50px}
#timerSection .h1{margin-bottom:22px}
#spInputs{margin-bottom:16px}
#timerSection .timeline-wrap{margin-top:18px}
#timerSection .controls{margin-top:26px}
</style>
</head>
<body>
<div class="container">
  <div class="topbar">
    <div class="brand" id="brandBox">
      <img id="logoImg" src="./img/meeting-timer-logo.png?v=2" alt="Meeting Timer logo">
    </div>
  </div>

  <!-- VAKTT√ÖRN -->
  <div id="wtControlsCard" class="card infoband">
    <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap">
      <select id="weekSel" class="select"><option>Laster ‚Ä¶</option></select>
    </div>
    <div style="display:flex;gap:8px;flex-wrap:wrap">
      <div class="pill" id="pillParas">Avsnitt: 0</div>
      <div class="pill" id="pillReads">üìñ Les-skriftsteder: 0</div>
    </div>
  </div>
  <div class="h1" id="articleTitle">‚Äî</div>
  <div class="message" id="message">Velg artikkel for √• laste timer.</div>
  <div class="timeline-wrap">
    <div id="timeline" class="timeline">
      <div id="introSlot" class="slot"></div>
      <div id="reviewSlot" class="slot"></div>
      <div id="outroSlot" class="slot"></div>
      <div id="elapsed" class="elapsed"></div>
      <div id="cursor" class="cursor"></div>
    </div>
    <div class="clock" id="clockWT">00:00</div>
  </div>
  <div class="controls">
    <button id="playWT" class="round play">‚ñ∂</button>
    <button id="pauseWT" class="round pause" disabled>‚ùö‚ùö</button>
    <button id="stopWT" class="round stop" disabled>‚ñ†</button>
  </div>
  <div class="card" style="margin-top:14px;max-width:var(--content-max);margin-inline:auto">
    <textarea id="wtNotes" rows="5" style="width:100%;border:1px solid var(--border);border-radius:12px;padding:10px;font:inherit;color:var(--ink);background:var(--pill)" placeholder="Her kan du notere."></textarea>
  </div>

  <!-- TIMER -->
  <section id="timerSection">
    <div class="h1">TIMER FOR MIDTUKEM√òTET</div>
    <div id="spCard">
      <div id="spInputs">
        <div class="preset-row">
          <button class="preset" data-sec="0">0</button>
          <button class="preset" data-sec="180">3</button>
          <button class="preset" data-sec="300">5</button>
          <button class="preset" data-sec="600">10</button>
          <button class="preset" data-sec="900">15</button>
          <button class="preset" data-sec="1200">20</button>
          <button class="preset" data-sec="1800">30</button>
        </div>
      </div>
      <div class="timeline-wrap">
        <div id="timelineSP" class="timeline">
          <div id="elapsedSP" class="elapsed"></div>
          <div id="cursorSP" class="cursor"></div>
          <div id="selectedTimeLabel" class="selected-time"></div>
        </div>
      </div>
      <div class="big-clock" id="clockSP">00:00</div>
      <img id="msImg" class="milestone-img" alt="" style="display:none"/>
      
      <div class="controls">
        <button id="playSP" class="round play"><span id="playSPIcon">‚ñ∂</span></button>
        <button id="pauseSP" class="round pause" disabled>‚ùö‚ùö</button>
        <button id="stopSP" class="round stop" disabled>‚ñ†</button>
      </div>
    </div>
  </section>

  <div class="footer">Meeting Timer ¬© 2025</div>
</div>

<script>
const PRESET_KEY='meetingTimer.annetSeconds';
const spPresets=Array.from(document.querySelectorAll('.preset-row .preset'));
let SP_TOTAL=parseInt(localStorage.getItem(PRESET_KEY),10); if(isNaN(SP_TOTAL)) SP_TOTAL=0;
function isCountUp(){return SP_TOTAL===0}
function spFmt(s){s=Math.max(0,Math.floor(s));const m=Math.floor(s/60),r=s%60;return String(m).padStart(2,'0')+':'+String(r).padStart(2,'0')}
function spElapsed(){return 0}
function drawTimelineSP(){const label=document.getElementById('selectedTimeLabel');if(SP_TOTAL>0){label.textContent=(SP_TOTAL/60)+' min';}else{label.textContent='';}}
spPresets.forEach(btn=>btn.addEventListener('click',()=>{const s=parseInt(btn.dataset.sec,10)||0;localStorage.setItem(PRESET_KEY,String(s));SP_TOTAL=s;drawTimelineSP()}));
drawTimelineSP();

// Logo animasjon
(function(){const logo=document.getElementById('logoImg');logo.addEventListener('click',()=>{logo.classList.remove('logo-spin','logo-shake');void logo.offsetWidth;logo.classList.add('logo-spin');setTimeout(()=>{logo.classList.remove('logo-spin');logo.classList.add('logo-shake');setTimeout(()=>logo.classList.remove('logo-shake'),450);},2000);});})();
</script>
</body>
</html>
